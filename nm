// #pragma once
// /* Put other #includes here,
//    your struct board, helper function
//    prototypes etc.
// */
// /* 将其他 #include 放在这里，
// mydefs.h
#pragma once
#include <stdbool.h>
#include <stddef.h>
#include <stdint.h>
/* === 棋盘尺寸（按题意固定） === */
#define H 4
#define W 5
/* === 棋盘：0 表示空；1..9 为数字 === */
typedef struct {
    unsigned char a[H][W];
} board;
/* === 可选：单元格坐标类型（组织结构用） === */
typedef struct {
    int r;
    int c;
} cell;
/* === BFS 用 ToDo（待办）数组/队列（固定容量，禁止动态内存） === */
#ifndef MAXLIST
#define MAXLIST 100000
#endif
typedef struct {
    board items[MAXLIST];  /* 待处理的盘面队列 */
    int   head;            /* 队首（出队位置） */
    int   tail;            /* 队尾（下一次入队位置） */
} todo_array;
/* === 可选：搜索属性/开关（如 has 属性，放这里） === */
typedef struct {
    bool has_seen_dedup;   /* 示例：是否启用去重检查 */
} search_attrs;
/* === 仅声明辅助函数原型（实现写在 nm.c；不写函数体） === */
/* 边界判断：坐标是否在 4×5 棋盘内 */
bool inb(int r, int c);
/* 8 邻接：位移 (dr,dc) 是否是 8 邻接（上下左右+对角；非 (0,0)） */
bool is_adj8(int dr, int dc);
/* 方向归一化工具：把整数压到 -1/0/1 */
void norm1(int *x);
void norm_dir(int *dr, int *dc);
/* 数值匹配：相同或和为 10 */
bool values_match(unsigned char x, unsigned char y);
/* 是否在 8 个方向之一的直线上；若是，返回单位方向 odr/odc ∈ {-1,0,1} */
bool same_line_8(int r1, int c1, int r2, int c2, int *odr, int *odc);
/* 直线连通：r1c1 到 r2c2 在同一条直线且中间全为 0 */
bool path_clear(const board *b, int r1, int c1, int r2, int c2);
/* 终局判断：棋盘是否全 0 */
bool is_final_board(const board *b);
/* 去重：arr[0..n) 是否已包含盘面 x */
bool seen_board(const board *arr, int n, const board *x);

